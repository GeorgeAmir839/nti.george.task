function eachSeg(comp,url){
	//check if have count segment's
	if(comp.length !== url.length){
		return false;
	}
	//declared object!!
	var result=new Object;
	//loop to check
	for (var i = url.length - 1; i >= 0; i--) {
		if(comp[i][0] !== ':'){
			if( url[i] === comp[i]){
				continue;
			}else{
				return false;
			}
		}else{
			result[comp[i].slice(1)] = url[i];
		}
	}
	return result;
}

function eachRoute(routes,url,path='path'){
	var resultDyn;

	//to check url
	for (var i = routes.length - 1; i >= 0; i--) {
		if(routes[i].[path].indexOf(':') === -1 && routes[i].[path] === url){
			return {target:routes[i],params:null};
		}else if(resultDyn = eachSeg(routes[i].[path].split('/') , url.split('/'))){
			if(resultDyn !== false){
				return {target:routes[i],params:resultDyn};
			}
		}
	}
	return {target:false,params:null};
}

module.exports = function(routes,url,path){
	return eachRoute(routes,url,path);
}